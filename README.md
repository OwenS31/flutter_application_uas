# Recipe Keeper App

Aplikasi Flutter sederhana untuk menyimpan resep masakan pribadi. Dibuat sebagai submission tugas.

## Fitur Utama

-   **Autentikasi Pengguna**: Sign Up, Sign In, dan Sign Out menggunakan Supabase Auth.
-   **Database Cloud**: Menyimpan dan mengambil data resep dari Supabase Database. Setiap resep terikat pada pengguna yang login.
-   **Keamanan Data**: Menggunakan Row Level Security (RLS) di Supabase agar pengguna hanya bisa mengakses datanya sendiri.
-   **Session Persistence**: Pengguna tetap login meskipun aplikasi ditutup dan dibuka kembali.
-   **Get Started Screen**: Halaman perkenalan yang hanya muncul sekali saat aplikasi pertama kali di-install.
-   **Manajemen Resep**: Tambah, lihat, dan hapus resep.

## Petunjuk Build & Instalasi

**Clone Repositori**
```bash
git clone https://github.com/OwenS31/flutter_application_uas.git
cd flutter_application_uas
```

**Siapkan Supabase**
-   Buat proyek baru di [Supabase](https://supabase.com/).
-   Pergi ke `SQL Editor` -> `New query`.
-   Pergi ke `Settings` -> `API`. Ambil **Project URL** dan **Project API Keys** (anon public).

**Isi Query**
```sql
-- 1. Membuat tabel untuk menyimpan resep
-- Tabel ini akan menyimpan semua resep dari semua pengguna.
CREATE TABLE public.recipes (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL, -- Menghubungkan resep ke pengguna yang membuatnya
    name TEXT NOT NULL,
    description TEXT,
    ingredients TEXT[] NOT NULL, -- Menyimpan bahan dalam bentuk array teks
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL
);

-- Memberi komentar pada tabel dan kolom untuk kejelasan
COMMENT ON TABLE public.recipes IS 'Menyimpan resep masakan yang dibuat oleh pengguna.';
COMMENT ON COLUMN public.recipes.user_id IS 'ID pengguna dari tabel auth.users yang memiliki resep ini.';
COMMENT ON COLUMN public.recipes.ingredients IS 'Daftar bahan-bahan masakan dalam format array.';


-- 2. Mengaktifkan Row Level Security (RLS) pada tabel recipes
-- Ini adalah langkah keamanan KRUSIAL. Tanpa ini, semua pengguna bisa melihat resep pengguna lain.
ALTER TABLE public.recipes ENABLE ROW LEVEL SECURITY;


-- 3. Membuat Kebijakan (Policies) untuk Row Level Security
-- Kebijakan ini mendefinisikan aturan siapa yang boleh melakukan apa terhadap data di tabel.

-- a. Kebijakan untuk SELECT (Membaca Data)
-- Pengguna hanya boleh MELIHAT resep yang 'user_id'-nya sama dengan ID mereka sendiri.
CREATE POLICY "Pengguna hanya bisa melihat resep miliknya"
ON public.recipes FOR SELECT
USING (auth.uid() = user_id);

-- b. Kebijakan untuk INSERT (Menyimpan Data Baru)
-- Pengguna hanya boleh MENYIMPAN resep baru dengan 'user_id' atas nama mereka sendiri.
CREATE POLICY "Pengguna hanya bisa membuat resep untuk dirinya sendiri"
ON public.recipes FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- c. Kebijakan untuk DELETE (Menghapus Data)
-- Pengguna hanya boleh MENGHAPUS resep yang 'user_id'-nya sama dengan ID mereka.
CREATE POLICY "Pengguna hanya bisa menghapus resep miliknya"
ON public.recipes FOR DELETE
USING (auth.uid() = user_id);
```

**Konfigurasi Kredensial di Flutter**
    -   Buka file `lib/main.dart`.
    -   Ganti nilai `supabaseUrl` dan `supabaseAnonKey` dengan kredensial dari proyek Supabase Anda.
```dart
const String supabaseUrl = 'YOUR_SUPABASE_URL';
const String supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY';
```

**Install Dependencies**
```bash
flutter pub get
```

**Jalankan Aplikasi**
```bash
flutter run
```

## Kredensial Dummy untuk Testing

Anda bisa mendaftarkan akun baru melalui halaman Sign Up di aplikasi.

-   **User**: `c14220031@john.petra.ac.id`
-   **Password**: `12345678`

*(Anda bisa mendaftarkan akun ini terlebih dahulu untuk memudahkan proses pengecekan)*

---
Dibuat dengan Flutter & Supabase.
